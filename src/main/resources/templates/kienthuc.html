<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- S·ª≠ d·ª•ng head chung -->
    <th:block th:replace="~{fragments/layout :: head('Ki·∫øn Th·ª©c')}"/>
    <link rel="stylesheet" th:href="@{/css/kienthuc.css}">
</head>
<body>
<!-- Header chung -->
<th:block th:replace="~{fragments/layout :: header}"/>

<!-- Breadcrumb -->
<th:block th:replace="~{fragments/layout :: breadcrumb(${breadcrumbItems})}"/>

<main class="container kienthuc-page">
    <section class="page-intro">
        <h1 class="page-title">üéã Ki·∫øn Th·ª©c T·∫øt Nguy√™n ƒê√°n</h1>
        <p class="page-subtitle">T·ªïng h·ª£p b√†i vi·∫øt v·ªÅ vƒÉn ho√° ‚Äì phong t·ª•c ‚Äì qu√† t·∫∑ng ng√†y T·∫øt.</p>
    </section>

    <!-- B√†i vi·∫øt n·ªïi b·∫≠t -->
    <section class="featured-posts" th:if="${featuredPosts}">
        <h2 class="section-title">B√†i Vi·∫øt N·ªïi B·∫≠t</h2>
        <div class="post-grid">
            <div class="post-card" th:each="post : ${featuredPosts}">
                <div class="post-card-inner">
                    <h3 class="post-title" th:text="${post.tieuDe}">Ti√™u ƒë·ªÅ</h3>
                    <p class="post-excerpt" th:text="${post.tomTat}">T√≥m t·∫Øt ng·∫Øn g·ªçn b√†i vi·∫øt...</p>
                    <a th:href="@{'/kienthuc/' + ${post.id}}" class="btn btn-outline btn-sm">ƒê·ªçc ti·∫øp</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Danh s√°ch b√†i vi·∫øt -->
    <section class="post-list-section">
        <h2 class="section-title">T·∫•t C·∫£ B√†i Vi·∫øt</h2>
        <div class="post-list" th:if="${baiVietPage}">
            <article class="post-row" th:each="bv : ${baiVietPage.content}">
                <div class="post-row-main">
                    <h3 class="post-row-title"><a th:href="@{'/kienthuc/' + ${bv.id}}" th:text="${bv.tieuDe}">Ti√™u
                        ƒë·ªÅ</a></h3>
                    <p class="post-row-meta">
                        <span><i class="fas fa-calendar"></i> <span
                                th:text="${#temporals.format(bv.ngayTao,'dd/MM/yyyy')}">01/01/2025</span></span>
                        <span> ¬∑ <i class="fas fa-eye"></i> <span th:text="${bv.luotXem}">0</span> l∆∞·ª£t xem</span>
                    </p>
                    <p class="post-row-excerpt" th:text="${bv.tomTat}">M√¥ t·∫£ ng·∫Øn...</p>
                    <a class="read-more" th:href="@{'/kienthuc/' + ${bv.id}}">ƒê·ªçc b√†i ‚Üí</a>
                </div>
            </article>

            <!-- Pagination -->
            <div class="pagination" th:if="${baiVietPage.totalPages > 1}">
                <a class="page-item" th:each="i : ${#numbers.sequence(0, baiVietPage.totalPages-1)}"
                   th:classappend="${i == baiVietPage.number} ? 'active'"
                   th:href="@{'/kienthuc'(page=${i})}" th:text="${i + 1}">1</a>
            </div>
        </div>

        <!-- Placeholder khi ch∆∞a c√≥ d·ªØ li·ªáu -->
        <div class="empty-state" th:if="${baiVietPage == null}">
            <h3>Ch∆∞a c√≥ b√†i vi·∫øt</h3>
            <p><strong>TODO: NG∆Ø·ªúI 3</strong> - K·∫øt n·ªëi BaiVietService ƒë·ªÉ hi·ªÉn th·ªã d·ªØ li·ªáu th·ª±c.</p>
            <ul class="sample-topics">
                <li>√ù nghƒ©a c·ªßa vi·ªác bi·∫øu qu√† T·∫øt</li>
                <li>Phong t·ª•c m√¢m ng≈© qu·∫£ ba mi·ªÅn</li>
                <li>L·ªãch s·ª≠ b√°nh ch∆∞ng ‚Äì b√°nh t√©t</li>
                <li>G·ª£i √Ω ch·ªçn qu√† T·∫øt cho doanh nghi·ªáp</li>
            </ul>
        </div>
    </section>

    <!-- Tags ph·ªï bi·∫øn -->
    <section class="popular-tags" th:if="${popularTags}">
        <h2 class="section-title">Ch·ªß ƒê·ªÅ N·ªïi B·∫≠t</h2>
        <div class="tag-cloud">
            <a class="tag" th:each="t : ${popularTags}" th:href="@{'/kienthuc/tag/' + ${t}}" th:text="${t}">Tag</a>
        </div>
    </section>
</main>

<!-- Footer -->
<th:block th:replace="~{fragments/layout :: footer}"/>
<th:block th:replace="~{fragments/layout :: scripts}"/>
</body>
</html>
